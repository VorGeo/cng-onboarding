[
  {
    "objectID": "tutorials/stac/e84_aws/index.html",
    "href": "tutorials/stac/e84_aws/index.html",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "",
    "text": "Binder\nhttps://registry.opendata.aws/sentinel-2-l2a-cogs/\nimport dask.distributed\nimport folium\nimport folium.plugins\nimport geopandas as gpd\nimport odc.ui\nimport shapely.geometry\nimport yaml\nfrom branca.element import Figure\nfrom IPython.display import HTML, display\nfrom odc.algo import to_rgba\nfrom pystac_client import Client\n\nfrom odc.stac import configure_rio, stac_load\ndef convert_bounds(bbox, invert_y=False):\n    \"\"\"\n    Helper method for changing bounding box representation to leaflet notation\n\n    ``(lon1, lat1, lon2, lat2) -&gt; ((lat1, lon1), (lat2, lon2))``\n    \"\"\"\n    x1, y1, x2, y2 = bbox\n    if invert_y:\n        y1, y2 = y2, y1\n    return ((y1, x1), (y2, x2))\ncfg = \"\"\"---\nsentinel-s2-l2a-cogs:\n  assets:\n    '*':\n      data_type: uint16\n      nodata: 0\n      unit: '1'\n    SCL:\n      data_type: uint8\n      nodata: 0\n      unit: '1'\n    visual:\n      data_type: uint8\n      nodata: 0\n      unit: '1'\n  aliases:  # Alias -&gt; Canonical Name\n    red: B04\n    green: B03\n    blue: B02\n\"*\":\n  warnings: ignore # Disable warnings about duplicate common names\n\"\"\"\ncfg = yaml.load(cfg, Loader=yaml.SafeLoader)"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#start-dask-client",
    "href": "tutorials/stac/e84_aws/index.html#start-dask-client",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Start Dask Client",
    "text": "Start Dask Client\nThis step is optional, but it does improve load speed significantly. You don’t have to use Dask, as you can load data directly into memory of the notebook.\n\nclient = dask.distributed.Client()\nconfigure_rio(cloud_defaults=True, aws={\"aws_unsigned\": True}, client=client)\ndisplay(client)\n\n/Users/gadomski/Code/radiantearth/stac-site/.venv/lib/python3.11/site-packages/distributed/node.py:182: UserWarning: Port 8787 is already in use.\nPerhaps you already have a cluster running?\nHosting the HTTP server on port 60429 instead\n  warnings.warn(\n\n\n\n     \n    \n        Client\n        Client-ce504c24-32da-11ee-a913-acde48001122\n        \n\n\n\nConnection method: Cluster object\nCluster type: distributed.LocalCluster\n\n\nDashboard: http://127.0.0.1:60429/status\n\n\n\n\n\n\n        \n\n        \n            \n            Cluster Info\n            \n    \n    \n    \n        LocalCluster\n        8cc071e4\n        \n\n\n\nDashboard: http://127.0.0.1:60429/status\nWorkers: 4\n\n\nTotal threads: 8\nTotal memory: 16.00 GiB\n\n\nStatus: running\nUsing processes: True\n\n\n\n\n\n        \n            \n                Scheduler Info\n            \n\n            \n    \n         \n        \n            Scheduler\n            Scheduler-31b08328-1d77-488a-86c5-878f957df278\n            \n\n\n\nComm: tcp://127.0.0.1:60430\nWorkers: 4\n\n\nDashboard: http://127.0.0.1:60429/status\nTotal threads: 8\n\n\nStarted: Just now\nTotal memory: 16.00 GiB\n\n\n\n\n        \n    \n\n    \n        \n            Workers\n        \n\n        \n        \n             \n            \n            \n                \n                    Worker: 0\n                \n                \n\n\n\nComm: tcp://127.0.0.1:60443\nTotal threads: 2\n\n\nDashboard: http://127.0.0.1:60448/status\nMemory: 4.00 GiB\n\n\nNanny: tcp://127.0.0.1:60433\n\n\n\nLocal directory: /var/folders/9z/lnsvqfqj4gs2d1j1nw3vynrm0000gn/T/dask-scratch-space/worker-o_ex6377\n\n\n\n\n            \n            \n        \n        \n        \n             \n            \n            \n                \n                    Worker: 1\n                \n                \n\n\n\nComm: tcp://127.0.0.1:60442\nTotal threads: 2\n\n\nDashboard: http://127.0.0.1:60446/status\nMemory: 4.00 GiB\n\n\nNanny: tcp://127.0.0.1:60434\n\n\n\nLocal directory: /var/folders/9z/lnsvqfqj4gs2d1j1nw3vynrm0000gn/T/dask-scratch-space/worker-ikdg42x7\n\n\n\n\n            \n            \n        \n        \n        \n             \n            \n            \n                \n                    Worker: 2\n                \n                \n\n\n\nComm: tcp://127.0.0.1:60444\nTotal threads: 2\n\n\nDashboard: http://127.0.0.1:60447/status\nMemory: 4.00 GiB\n\n\nNanny: tcp://127.0.0.1:60435\n\n\n\nLocal directory: /var/folders/9z/lnsvqfqj4gs2d1j1nw3vynrm0000gn/T/dask-scratch-space/worker-edm1yor0\n\n\n\n\n            \n            \n        \n        \n        \n             \n            \n            \n                \n                    Worker: 3\n                \n                \n\n\n\nComm: tcp://127.0.0.1:60441\nTotal threads: 2\n\n\nDashboard: http://127.0.0.1:60445/status\nMemory: 4.00 GiB\n\n\nNanny: tcp://127.0.0.1:60436\n\n\n\nLocal directory: /var/folders/9z/lnsvqfqj4gs2d1j1nw3vynrm0000gn/T/dask-scratch-space/worker-4vd03sgx"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#find-stac-items-to-load",
    "href": "tutorials/stac/e84_aws/index.html#find-stac-items-to-load",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Find STAC Items to Load",
    "text": "Find STAC Items to Load\n\nkm2deg = 1.0 / 111\nx, y = (113.887, -25.843)  # Center point of a query\nr = 100 * km2deg\nbbox = (x - r, y - r, x + r, y + r)\n\ncatalog = Client.open(\"https://earth-search.aws.element84.com/v1\")\n\nquery = catalog.search(\n    collections=[\"sentinel-2-l2a\"], datetime=\"2021-09-16\", limit=100, bbox=bbox\n)\n\nitems = list(query.items())\nprint(f\"Found: {len(items):d} datasets\")\n\n# Convert STAC items into a GeoJSON FeatureCollection\nstac_json = query.item_collection_as_dict()\n\nFound: 18 datasets"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#review-query-result",
    "href": "tutorials/stac/e84_aws/index.html#review-query-result",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Review Query Result",
    "text": "Review Query Result\nWe’ll use GeoPandas DataFrame object to make plotting easier.\n\ngdf = gpd.GeoDataFrame.from_features(stac_json, \"epsg:4326\")\n\n# Compute granule id from components\ngdf[\"granule\"] = (\n    gdf[\"mgrs:utm_zone\"].apply(lambda x: f\"{x:02d}\")\n    + gdf[\"mgrs:latitude_band\"]\n    + gdf[\"mgrs:grid_square\"]\n)\n\nfig = gdf.plot(\n    \"granule\",\n    edgecolor=\"black\",\n    categorical=True,\n    aspect=\"equal\",\n    alpha=0.5,\n    figsize=(6, 12),\n    legend=True,\n    legend_kwds={\"loc\": \"upper left\", \"frameon\": False, \"ncol\": 1},\n)\n_ = fig.set_title(\"STAC Query Results\")"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#plot-stac-items-on-a-map",
    "href": "tutorials/stac/e84_aws/index.html#plot-stac-items-on-a-map",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Plot STAC Items on a Map",
    "text": "Plot STAC Items on a Map\n\n# https://github.com/python-visualization/folium/issues/1501\nfig = Figure(width=\"400px\", height=\"500px\")\nmap1 = folium.Map()\nfig.add_child(map1)\n\nfolium.GeoJson(\n    shapely.geometry.box(*bbox),\n    style_function=lambda x: dict(fill=False, weight=1, opacity=0.7, color=\"olive\"),\n    name=\"Query\",\n).add_to(map1)\n\ngdf.explore(\n    \"granule\",\n    categorical=True,\n    tooltip=[\n        \"granule\",\n        \"datetime\",\n        \"s2:nodata_pixel_percentage\",\n        \"eo:cloud_cover\",\n    ],\n    popup=True,\n    style_kwds=dict(fillOpacity=0.1, width=2),\n    name=\"STAC\",\n    m=map1,\n)\n\nmap1.fit_bounds(bounds=convert_bounds(gdf.unary_union.bounds))\ndisplay(fig)"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#construct-dask-dataset",
    "href": "tutorials/stac/e84_aws/index.html#construct-dask-dataset",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Construct Dask Dataset",
    "text": "Construct Dask Dataset\nNote that even though there are 9 STAC Items on input, there is only one timeslice on output. This is because of groupby=\"solar_day\". With that setting stac_load will place all items that occured on the same day (as adjusted for the timezone) into one image plane.\n\n# Since we will plot it on a map we need to use `EPSG:3857` projection\ncrs = \"epsg:3857\"\nzoom = 2**5  # overview level 5\n\nxx = stac_load(\n    items,\n    bands=(\"red\", \"green\", \"blue\"),\n    crs=crs,\n    resolution=10 * zoom,\n    chunks={},  # &lt;-- use Dask\n    groupby=\"solar_day\",\n    stac_cfg=cfg,\n)\ndisplay(xx)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:      (y: 1101, x: 1087, time: 1)\nCoordinates:\n  * y            (y) float64 -2.797e+06 -2.798e+06 ... -3.149e+06 -3.149e+06\n  * x            (x) float64 1.247e+07 1.247e+07 ... 1.282e+07 1.282e+07\n    spatial_ref  int32 3857\n  * time         (time) datetime64[ns] 2021-09-16T02:34:44.451000\nData variables:\n    red          (time, y, x) uint16 dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;\n    green        (time, y, x) uint16 dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;\n    blue         (time, y, x) uint16 dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;xarray.DatasetDimensions:y: 1101x: 1087time: 1Coordinates: (4)y(y)float64-2.797e+06 ... -3.149e+06units :metreresolution :-320.0crs :EPSG:3857array([-2797280., -2797600., -2797920., ..., -3148640., -3148960., -3149280.])x(x)float641.247e+07 1.247e+07 ... 1.282e+07units :metreresolution :320.0crs :EPSG:3857array([12468000., 12468320., 12468640., ..., 12814880., 12815200., 12815520.])spatial_ref()int323857spatial_ref :PROJCRS[\"WGS 84 / Pseudo-Mercator\",BASEGEOGCRS[\"WGS 84\",ENSEMBLE[\"World Geodetic System 1984 ensemble\",MEMBER[\"World Geodetic System 1984 (Transit)\"],MEMBER[\"World Geodetic System 1984 (G730)\"],MEMBER[\"World Geodetic System 1984 (G873)\"],MEMBER[\"World Geodetic System 1984 (G1150)\"],MEMBER[\"World Geodetic System 1984 (G1674)\"],MEMBER[\"World Geodetic System 1984 (G1762)\"],MEMBER[\"World Geodetic System 1984 (G2139)\"],ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]],ENSEMBLEACCURACY[2.0]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"Popular Visualisation Pseudo-Mercator\",METHOD[\"Popular Visualisation Pseudo Mercator\",ID[\"EPSG\",1024]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"False easting\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting (X)\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing (Y)\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],USAGE[SCOPE[\"Web mapping and visualisation.\"],AREA[\"World between 85.06°S and 85.06°N.\"],BBOX[-85.06,-180,85.06,180]],ID[\"EPSG\",3857]]crs_wkt :PROJCRS[\"WGS 84 / Pseudo-Mercator\",BASEGEOGCRS[\"WGS 84\",ENSEMBLE[\"World Geodetic System 1984 ensemble\",MEMBER[\"World Geodetic System 1984 (Transit)\"],MEMBER[\"World Geodetic System 1984 (G730)\"],MEMBER[\"World Geodetic System 1984 (G873)\"],MEMBER[\"World Geodetic System 1984 (G1150)\"],MEMBER[\"World Geodetic System 1984 (G1674)\"],MEMBER[\"World Geodetic System 1984 (G1762)\"],MEMBER[\"World Geodetic System 1984 (G2139)\"],ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]],ENSEMBLEACCURACY[2.0]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"Popular Visualisation Pseudo-Mercator\",METHOD[\"Popular Visualisation Pseudo Mercator\",ID[\"EPSG\",1024]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"False easting\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting (X)\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing (Y)\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],USAGE[SCOPE[\"Web mapping and visualisation.\"],AREA[\"World between 85.06°S and 85.06°N.\"],BBOX[-85.06,-180,85.06,180]],ID[\"EPSG\",3857]]GeoTransform :12467840.0 320.0 0.0 -2797120.0 0.0 -320.0array(3857, dtype=int32)time(time)datetime64[ns]2021-09-16T02:34:44.451000array(['2021-09-16T02:34:44.451000000'], dtype='datetime64[ns]')Data variables: (3)red(time, y, x)uint16dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;nodata :0\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n2.28 MiB\n2.28 MiB\n\n\nShape\n(1, 1101, 1087)\n(1, 1101, 1087)\n\n\nDask graph\n1 chunks in 1 graph layer\n\n\nData type\nuint16 numpy.ndarray\n\n\n\n\n                         1087 1101 1\n\n\n\n\ngreen(time, y, x)uint16dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;nodata :0\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n2.28 MiB\n2.28 MiB\n\n\nShape\n(1, 1101, 1087)\n(1, 1101, 1087)\n\n\nDask graph\n1 chunks in 1 graph layer\n\n\nData type\nuint16 numpy.ndarray\n\n\n\n\n                         1087 1101 1\n\n\n\n\nblue(time, y, x)uint16dask.array&lt;chunksize=(1, 1101, 1087), meta=np.ndarray&gt;nodata :0\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n2.28 MiB\n2.28 MiB\n\n\nShape\n(1, 1101, 1087)\n(1, 1101, 1087)\n\n\nDask graph\n1 chunks in 1 graph layer\n\n\nData type\nuint16 numpy.ndarray\n\n\n\n\n                         1087 1101 1\n\n\n\n\nIndexes: (3)yPandasIndexPandasIndex(Index([-2797280.0, -2797600.0, -2797920.0, -2798240.0, -2798560.0, -2798880.0,\n       -2799200.0, -2799520.0, -2799840.0, -2800160.0,\n       ...\n       -3146400.0, -3146720.0, -3147040.0, -3147360.0, -3147680.0, -3148000.0,\n       -3148320.0, -3148640.0, -3148960.0, -3149280.0],\n      dtype='float64', name='y', length=1101))xPandasIndexPandasIndex(Index([12468000.0, 12468320.0, 12468640.0, 12468960.0, 12469280.0, 12469600.0,\n       12469920.0, 12470240.0, 12470560.0, 12470880.0,\n       ...\n       12812640.0, 12812960.0, 12813280.0, 12813600.0, 12813920.0, 12814240.0,\n       12814560.0, 12814880.0, 12815200.0, 12815520.0],\n      dtype='float64', name='x', length=1087))timePandasIndexPandasIndex(DatetimeIndex(['2021-09-16 02:34:44.451000'], dtype='datetime64[ns]', name='time', freq=None))Attributes: (0)"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#load-data-and-convert-to-rgba",
    "href": "tutorials/stac/e84_aws/index.html#load-data-and-convert-to-rgba",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Load data and convert to RGBA",
    "text": "Load data and convert to RGBA\n\n%%time\nrgba = to_rgba(xx, clamp=(1, 3000))\n_rgba = rgba.compute()\n\nCPU times: user 7.86 s, sys: 2.71 s, total: 10.6 s\nWall time: 42.1 s"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#display-image-on-a-map",
    "href": "tutorials/stac/e84_aws/index.html#display-image-on-a-map",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Display Image on a map",
    "text": "Display Image on a map\n\nmap2 = folium.Map()\n\nfolium.GeoJson(\n    shapely.geometry.box(*bbox),\n    style_function=lambda x: dict(fill=False, weight=1, opacity=0.7, color=\"olive\"),\n    name=\"Query\",\n).add_to(map2)\n\ngdf.explore(\n    \"granule\",\n    categorical=True,\n    tooltip=[\n        \"granule\",\n        \"datetime\",\n        \"s2:nodata_pixel_percentage\",\n        \"eo:cloud_cover\",\n    ],\n    popup=True,\n    style_kwds=dict(fillOpacity=0.1, width=2),\n    name=\"STAC\",\n    m=map2,\n)\n\n\n# Image bounds are specified in Lat/Lon order with Lat axis inversed\nimage_bounds = convert_bounds(_rgba.geobox.geographic_extent.boundingbox, invert_y=True)\nimg_ovr = folium.raster_layers.ImageOverlay(\n    _rgba.isel(time=0).data, bounds=image_bounds, name=\"Image\"\n)\nimg_ovr.add_to(map2)\nmap2.fit_bounds(bounds=image_bounds)\n\nfolium.LayerControl().add_to(map2)\nfolium.plugins.Fullscreen().add_to(map2)\nmap2\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "tutorials/stac/e84_aws/index.html#load-with-bounding-box",
    "href": "tutorials/stac/e84_aws/index.html#load-with-bounding-box",
    "title": "Access Sentinel 2 Data from AWS",
    "section": "Load with bounding box",
    "text": "Load with bounding box\nAs you can see stac_load returned all the data covered by STAC items returned from the query. This happens by default as stac_load has no way of knowing what your query was. But it is possible to control what region is loaded. There are several mechanisms available, but probably simplest one is to use bbox= parameter (compatible with stac_client).\nLet’s load a small region at native resolution to demonstrate.\n\nr = 6.5 * km2deg\nsmall_bbox = (x - r, y - r, x + r, y + r)\n\nyy = stac_load(\n    items,\n    bands=(\"red\", \"green\", \"blue\"),\n    crs=crs,\n    resolution=10,\n    chunks={},  # &lt;-- use Dask\n    groupby=\"solar_day\",\n    stac_cfg=cfg,\n    bbox=small_bbox,\n)\nim_small = to_rgba(yy, clamp=(1, 3000)).compute()\n\n\nimg_zoomed_in = odc.ui.mk_data_uri(\n    odc.ui.to_jpeg_data(im_small.isel(time=0).data, quality=80), \"image/jpeg\"\n)\nprint(f\"Image url: {img_zoomed_in[:64]}...\")\n\nImage url: data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQOD...\n\n\n\nHTML(\n    data=f\"\"\"\n&lt;style&gt; .img-two-column{{\n  width: 50%;\n  float: left;\n}}&lt;/style&gt;\n&lt;img src=\"{img_zoomed_in}\" alt=\"Sentinel-2 Zoom in\" class=\"img-two-column\"&gt;\n&lt;img src=\"{img_ovr.url}\" alt=\"Sentinel-2 Mosaic\" class=\"img-two-column\"&gt;\n\"\"\"\n)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Cloud Native Geospatial (CNG) Onboarding Tutorials",
    "section": "",
    "text": "TODO… describe the tutorials"
  },
  {
    "objectID": "tutorials/stac/mspc_stac/index.html",
    "href": "tutorials/stac/mspc_stac/index.html",
    "title": "Reading Data from the STAC API",
    "section": "",
    "text": "The Planetary Computer catalogs the datasets we host using the STAC (SpatioTemporal Asset Catalog) specification. We provide a STAC API endpoint that can be used to search our datasets by space, time, and more. This quickstart will show you how to search for data using our STAC API and open-source Python libraries. For more on how to use our STAC API from R, see Reading data from the STAC API with R.\nTo get started you’ll need the pystac-client library installed. You can install it via pip:\n&gt; pip install pystac-client\nFirst we’ll use pystac-client to open up our STAC API:\n\nfrom pystac_client import Client\n\ncatalog = Client.open(\"https://planetarycomputer.microsoft.com/api/stac/v1\")\n\n\nSearching\nWe can use the STAC API to search for assets meeting some criteria. This might include the date and time the asset covers, is spatial extent, or any other property captured in the STAC item’s metadata.\nIn this example we’ll search for imagery from Landsat Collection 2 Level-2 area around Microsoft’s main campus in December of 2020.\n\ntime_range = \"2020-12-01/2020-12-31\"\nbbox = [-122.2751, 47.5469, -121.9613, 47.7458]\n\nsearch = catalog.search(collections=[\"landsat-8-c2-l2\"], bbox=bbox, datetime=time_range)\nitems = search.get_all_items()\nlen(items)\n\n4\n\n\nIn that example our spatial query used a bounding box with a bbox. Alternatively, you can pass a GeoJSON object as intersects\narea_of_interest = {\n    \"type\": \"Polygon\",\n    \"coordinates\": [\n        [\n            [-122.2751, 47.5469],\n            [-121.9613, 47.9613],\n            [-121.9613, 47.9613],\n            [-122.2751, 47.9613],\n            [-122.2751, 47.5469],\n        ]\n    ],\n}\n\ntime_range = \"2020-12-01/2020-12-31\"\n\nsearch = catalog.search(\n    collections=[\"landsat-8-c2-l2\"], intersects=area_of_interest, datetime=time_range\n)\nitems is a pystac.ItemCollection. We can see that 4 items matched our search criteria.\n\nlen(items)\n\n4\n\n\nEach pystac.Item in this ItemCollection includes all the metadata for that scene. STAC Items are GeoJSON features, and so can be loaded by libraries like geopandas.\n\nimport geopandas\n\ndf = geopandas.GeoDataFrame.from_features(items.to_dict(), crs=\"epsg:4326\")\ndf\n\n\n\n\n\n\n\n\ngeometry\ndatetime\nplatform\nproj:bbox\nproj:epsg\ndescription\ninstruments\neo:cloud_cover\nview:off_nadir\nlandsat:wrs_row\nlandsat:scene_id\nlandsat:wrs_path\nlandsat:wrs_type\nview:sun_azimuth\nview:sun_elevation\nlandsat:cloud_cover_land\nlandsat:processing_level\nlandsat:collection_number\nlandsat:collection_category\n\n\n\n\n0\nPOLYGON ((-122.74802 48.51223, -120.22983 48.0...\n2020-12-29T18:55:56.738265Z\nlandsat-8\n[471585.0, 5136885.0, 705015.0, 5373315.0]\n32610\nLandsat Collection 2 Level-2 Surface Reflectan...\n[oli, tirs]\n100.00\n0\n027\nLC80460272020364LGN00\n046\n2\n162.253231\n17.458298\n100.00\nL2SP\n02\nT2\n\n\n1\nPOLYGON ((-124.29833 48.51325, -121.79248 48.0...\n2020-12-20T19:02:09.878796Z\nlandsat-8\n[353385.0, 5135085.0, 589215.0, 5374215.0]\n32610\nLandsat Collection 2 Level-2 Surface Reflectan...\n[oli, tirs]\n100.00\n0\n027\nLC80470272020355LGN00\n047\n2\n163.360118\n17.414441\n100.00\nL2SP\n02\nT2\n\n\n2\nPOLYGON ((-122.75189 48.51190, -120.23406 48.0...\n2020-12-13T18:56:00.096447Z\nlandsat-8\n[471285.0, 5136885.0, 704715.0, 5373315.0]\n32610\nLandsat Collection 2 Level-2 Surface Reflectan...\n[oli, tirs]\n98.73\n0\n027\nLC80460272020348LGN00\n046\n2\n164.126188\n17.799744\n98.64\nL2SP\n02\nT2\n\n\n3\nPOLYGON ((-124.29534 48.51347, -121.78981 48.0...\n2020-12-04T19:02:11.194486Z\nlandsat-8\n[353685.0, 5135085.0, 589515.0, 5374215.0]\n32610\nLandsat Collection 2 Level-2 Surface Reflectan...\n[oli, tirs]\n1.55\n0\n027\nLC80470272020339LGN00\n047\n2\n164.914060\n18.807230\n1.90\nL2SP\n02\nT1\n\n\n\n\n\n\n\nWe can use the eo extension to sort the items by cloudiness. We’ll grab an item with low cloudiness:\n\nselected_item = min(items, key=lambda item: item.properties[\"eo:cloud_cover\"])\nselected_item\n\n&lt;Item id=LC08_L2SP_047027_20201204_02_T1&gt;\n\n\nEach STAC item has one or more Assets, which include links to the actual files.\n\nimport rich.table\n\ntable = rich.table.Table(\"Asset Key\", \"Descripiption\")\nfor asset_key, asset in selected_item.assets.items():\n    # print(f\"{asset_key:&lt;25} - {asset.title}\")\n    table.add_row(asset_key, asset.title)\n\ntable\n\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓\n┃ Asset Key                 ┃ Descripiption                                  ┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩\n│ ANG                       │ Angle Coefficients File                        │\n│ SR_B1                     │ Coastal/Aerosol Band (B1)                      │\n│ SR_B2                     │ Blue Band (B2)                                 │\n│ SR_B3                     │ Green Band (B3)                                │\n│ SR_B4                     │ Red Band (B4)                                  │\n│ SR_B5                     │ Near Infrared Band 0.8 (B5)                    │\n│ SR_B6                     │ Short-wave Infrared Band 1.6 (B6)              │\n│ SR_B7                     │ Short-wave Infrared Band 2.2 (B7)              │\n│ ST_QA                     │ Surface Temperature Quality Assessment Band    │\n│ ST_B10                    │ Surface Temperature Band (B10)                 │\n│ MTL.txt                   │ Product Metadata File                          │\n│ MTL.xml                   │ Product Metadata File (xml)                    │\n│ ST_DRAD                   │ Downwelled Radiance Band                       │\n│ ST_EMIS                   │ Emissivity Band                                │\n│ ST_EMSD                   │ Emissivity Standard Deviation Band             │\n│ ST_TRAD                   │ Thermal Radiance Band                          │\n│ ST_URAD                   │ Upwelled Radiance Band                         │\n│ MTL.json                  │ Product Metadata File (json)                   │\n│ QA_PIXEL                  │ Pixel Quality Assessment Band                  │\n│ ST_ATRAN                  │ Atmospheric Transmittance Band                 │\n│ ST_CDIST                  │ Cloud Distance Band                            │\n│ QA_RADSAT                 │ Radiometric Saturation Quality Assessment Band │\n│ thumbnail                 │ Thumbnail image                                │\n│ SR_QA_AEROSOL             │ Aerosol Quality Analysis Band                  │\n│ reduced_resolution_browse │ Reduced resolution browse image                │\n│ tilejson                  │ TileJSON with default rendering                │\n│ rendered_preview          │ Rendered preview                               │\n└───────────────────────────┴────────────────────────────────────────────────┘\n\n\n\nHere, we’ll inspect the rendered_preview asset.\n\nselected_item.assets[\"rendered_preview\"].to_dict()\n\n{'href': 'https://planetarycomputer.microsoft.com/api/data/v1/item/preview.png?collection=landsat-8-c2-l2&item=LC08_L2SP_047027_20201204_02_T1&assets=SR_B4&assets=SR_B3&assets=SR_B2&color_formula=gamma+RGB+2.7%2C+saturation+1.5%2C+sigmoidal+RGB+15+0.55',\n 'type': 'image/png',\n 'title': 'Rendered preview',\n 'rel': 'preview',\n 'roles': ['overview']}\n\n\n\nfrom IPython.display import Image\n\nImage(url=selected_item.assets[\"rendered_preview\"].href, width=500)\n\n\n\n\nThat rendered_preview asset is generated dynamically from the raw data using the Planetary Computer’s data API. We can access the raw data, stored as Cloud Optimzied GeoTIFFs in Azure Blob Storage, using one of the other assets. That said, we do need to do one more thing before accessing the data. If we simply made a request to the file in blob storage we’d get a 404:\n\nimport requests\n\nurl = selected_item.assets[\"SR_B2\"].href\nprint(\"Accessing\", url)\nresponse = requests.get(url)\nresponse\n\nAccessing https://landsateuwest.blob.core.windows.net/landsat-c2/level-2/standard/oli-tirs/2020/047/027/LC08_L2SP_047027_20201204_20210313_02_T1/LC08_L2SP_047027_20201204_20210313_02_T1_SR_B2.TIF\n\n\n&lt;Response [404]&gt;\n\n\nThat’s because the Plantary Computer uses Azure Blob Storage SAS Tokens to enable access to our data, which allows us to provide the data for free to anyone, anywhere while maintaining some control over the amount of egress for datasets.\nTo get a token for access, you can use the Planetary Computer’s Data Authentication API. You can access that anonymously, or you can provide an API Key for higher rate limits and longer-lived tokens.\nYou can also use the planetary-computer package to generate tokens and sign asset HREFs for access. You can install via pip with\n&gt; pip install planetary-computer\n\nimport planetary_computer\n\n# PC_SDK_SUBSCRIPTION_KEY\nsigned_href = planetary_computer.sign(selected_item).assets[\"SR_B2\"].href\n\nWe can load up that single COG using libraries like rioxarray or rasterio\n\n# import xarray as xr\nimport rioxarray\n\nds = rioxarray.open_rasterio(signed_href, overview_level=4).squeeze()\nimg = ds.plot(cmap=\"Blues\", add_colorbar=False)\nimg.axes.set_axis_off();\n\n\n\n\n\n\n\n\nIf you wish to work with multiple STAC items as a datacube, you can use libraries like stackstac or odc-stac.\n\nimport stackstac\n\nds = stackstac.stack(planetary_computer.sign(items))\nds\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.DataArray 'stackstac-6a76bcf3889fe96912bc723182731111' (time: 4,\n                                                                band: 19,\n                                                                y: 7972,\n                                                                x: 11722)&gt;\ndask.array&lt;fetch_raster_window, shape=(4, 19, 7972, 11722), dtype=float64, chunksize=(1, 1, 1024, 1024), chunktype=numpy.ndarray&gt;\nCoordinates: (12/27)\n  * time                         (time) datetime64[ns] 2020-12-04T19:02:11.19...\n    id                           (time) &lt;U31 'LC08_L2SP_047027_20201204_02_T1...\n  * band                         (band) &lt;U13 'SR_B1' 'SR_B2' ... 'SR_QA_AEROSOL'\n  * x                            (x) float64 3.534e+05 3.534e+05 ... 7.05e+05\n  * y                            (y) float64 5.374e+06 5.374e+06 ... 5.135e+06\n    view:off_nadir               int64 0\n    ...                           ...\n    title                        (band) &lt;U46 'Coastal/Aerosol Band (B1)' ... ...\n    gsd                          (band) float64 30.0 30.0 30.0 ... 30.0 30.0\n    common_name                  (band) object 'coastal' 'blue' ... None None\n    center_wavelength            (band) object 0.44 0.48 0.56 ... None None None\n    full_width_half_max          (band) object 0.02 0.06 0.06 ... None None None\n    epsg                         int64 32610\nAttributes:\n    spec:        RasterSpec(epsg=32610, bounds=(353370.0, 5135070.0, 705030.0...\n    crs:         epsg:32610\n    transform:   | 30.00, 0.00, 353370.00|\\n| 0.00,-30.00, 5374230.00|\\n| 0.0...\n    resolution:  30.0xarray.DataArray'stackstac-6a76bcf3889fe96912bc723182731111'time: 4band: 19y: 7972x: 11722dask.array&lt;chunksize=(1, 1, 1024, 1024), meta=np.ndarray&gt;\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n52.91 GiB\n8.00 MiB\n\n\nShape\n(4, 19, 7972, 11722)\n(1, 1, 1024, 1024)\n\n\nCount\n7448 Tasks\n7296 Chunks\n\n\nType\nfloat64\nnumpy.ndarray\n\n\n\n\n            4 1                                                                                                  11722 7972 19\n\n\n\n\nCoordinates: (27)time(time)datetime64[ns]2020-12-04T19:02:11.194486 ... 2...array(['2020-12-04T19:02:11.194486000', '2020-12-13T18:56:00.096447000',\n       '2020-12-20T19:02:09.878796000', '2020-12-29T18:55:56.738265000'],\n      dtype='datetime64[ns]')id(time)&lt;U31'LC08_L2SP_047027_20201204_02_T1...array(['LC08_L2SP_047027_20201204_02_T1',\n       'LC08_L2SP_046027_20201213_02_T2',\n       'LC08_L2SP_047027_20201220_02_T2',\n       'LC08_L2SP_046027_20201229_02_T2'], dtype='&lt;U31')band(band)&lt;U13'SR_B1' 'SR_B2' ... 'SR_QA_AEROSOL'array(['SR_B1', 'SR_B2', 'SR_B3', 'SR_B4', 'SR_B5', 'SR_B6', 'SR_B7', 'ST_QA',\n       'ST_B10', 'ST_DRAD', 'ST_EMIS', 'ST_EMSD', 'ST_TRAD', 'ST_URAD',\n       'QA_PIXEL', 'ST_ATRAN', 'ST_CDIST', 'QA_RADSAT', 'SR_QA_AEROSOL'],\n      dtype='&lt;U13')x(x)float643.534e+05 3.534e+05 ... 7.05e+05array([353370., 353400., 353430., ..., 704940., 704970., 705000.])y(y)float645.374e+06 5.374e+06 ... 5.135e+06array([5374230., 5374200., 5374170., ..., 5135160., 5135130., 5135100.])view:off_nadir()int640array(0)proj:epsg()int6432610array(32610)platform()&lt;U9'landsat-8'array('landsat-8', dtype='&lt;U9')landsat:wrs_row()&lt;U3'027'array('027', dtype='&lt;U3')landsat:wrs_path(time)&lt;U3'047' '046' '047' '046'array(['047', '046', '047', '046'], dtype='&lt;U3')landsat:collection_number()&lt;U2'02'array('02', dtype='&lt;U2')landsat:cloud_cover_land(time)float641.9 98.64 100.0 100.0array([  1.9 ,  98.64, 100.  , 100.  ])view:sun_elevation(time)float6418.81 17.8 17.41 17.46array([18.80722985, 17.7997438 , 17.41444102, 17.45829837])landsat:collection_category(time)&lt;U2'T1' 'T2' 'T2' 'T2'array(['T1', 'T2', 'T2', 'T2'], dtype='&lt;U2')landsat:processing_level()&lt;U4'L2SP'array('L2SP', dtype='&lt;U4')landsat:wrs_type()&lt;U1'2'array('2', dtype='&lt;U1')view:sun_azimuth(time)float64164.9 164.1 163.4 162.3array([164.91405951, 164.12618828, 163.36011782, 162.25323052])instruments()object{'oli', 'tirs'}array({'oli', 'tirs'}, dtype=object)eo:cloud_cover(time)float641.55 98.73 100.0 100.0array([  1.55,  98.73, 100.  , 100.  ])landsat:scene_id(time)&lt;U21'LC80470272020339LGN00' ... 'LC8...array(['LC80470272020339LGN00', 'LC80460272020348LGN00',\n       'LC80470272020355LGN00', 'LC80460272020364LGN00'], dtype='&lt;U21')description(band)&lt;U91'Collection 2 Level-2 Coastal/Ae...array(['Collection 2 Level-2 Coastal/Aerosol Band (B1) Surface Reflectance',\n       'Collection 2 Level-2 Blue Band (B2) Surface Reflectance',\n       'Collection 2 Level-2 Green Band (B3) Surface Reflectance',\n       'Collection 2 Level-2 Red Band (B4) Surface Reflectance',\n       'Collection 2 Level-2 Near Infrared Band 0.8 (B5) Surface Reflectance',\n       'Collection 2 Level-2 Short-wave Infrared Band 1.6 (B6) Surface Reflectance',\n       'Collection 2 Level-2 Short-wave Infrared Band 2.2 (B7) Surface Reflectance',\n       'Landsat Collection 2 Level-2 Surface Temperature Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Surface Temperature Band (B10) Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Downwelled Radiance Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Emissivity Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Emissivity Standard Deviation Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Thermal Radiance Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Upwelled Radiance Band Surface Temperature Product',\n       'Collection 2 Level-1 Pixel Quality Assessment Band',\n       'Landsat Collection 2 Level-2 Atmospheric Transmittance Band Surface Temperature Product',\n       'Landsat Collection 2 Level-2 Cloud Distance Band Surface Temperature Product',\n       'Collection 2 Level-1 Radiometric Saturation Quality Assessment Band',\n       'Collection 2 Level-2 Aerosol Quality Analysis Band (ANG) Surface Reflectance'],\n      dtype='&lt;U91')title(band)&lt;U46'Coastal/Aerosol Band (B1)' ... ...array(['Coastal/Aerosol Band (B1)', 'Blue Band (B2)', 'Green Band (B3)',\n       'Red Band (B4)', 'Near Infrared Band 0.8 (B5)',\n       'Short-wave Infrared Band 1.6 (B6)',\n       'Short-wave Infrared Band 2.2 (B7)',\n       'Surface Temperature Quality Assessment Band',\n       'Surface Temperature Band (B10)', 'Downwelled Radiance Band',\n       'Emissivity Band', 'Emissivity Standard Deviation Band',\n       'Thermal Radiance Band', 'Upwelled Radiance Band',\n       'Pixel Quality Assessment Band', 'Atmospheric Transmittance Band',\n       'Cloud Distance Band',\n       'Radiometric Saturation Quality Assessment Band',\n       'Aerosol Quality Analysis Band'], dtype='&lt;U46')gsd(band)float6430.0 30.0 30.0 ... 30.0 30.0 30.0array([ 30.,  30.,  30.,  30.,  30.,  30.,  30.,  30., 100.,  30.,  30.,\n        30.,  30.,  30.,  30.,  30.,  30.,  30.,  30.])common_name(band)object'coastal' 'blue' ... None Nonearray(['coastal', 'blue', 'green', 'red', 'nir08', 'swir16', 'swir22',\n       None, 'lwir11', None, None, None, None, None, None, None, None,\n       None, None], dtype=object)center_wavelength(band)object0.44 0.48 0.56 ... None None Nonearray([0.44, 0.48, 0.56, 0.65, 0.86, 1.6, 2.2, None, 10.9, None, None,\n       None, None, None, None, None, None, None, None], dtype=object)full_width_half_max(band)object0.02 0.06 0.06 ... None None Nonearray([0.02, 0.06, 0.06, 0.04, 0.03, 0.08, 0.2, None, 0.8, None, None,\n       None, None, None, None, None, None, None, None], dtype=object)epsg()int6432610array(32610)Attributes: (4)spec :RasterSpec(epsg=32610, bounds=(353370.0, 5135070.0, 705030.0, 5374230.0), resolutions_xy=(30.0, 30.0))crs :epsg:32610transform :| 30.00, 0.00, 353370.00|\n| 0.00,-30.00, 5374230.00|\n| 0.00, 0.00, 1.00|resolution :30.0\n\n\n\n\nSearching on additional properties\nPreviously, we searched for items by space and time. Because the Planetary Computer’s STAC API supports the query parameter, you can search on additional properties on the STAC item.\nFor example, collections like sentinel-2-l2a and landsat-8-c2-l2 both implement the eo STAC extension and include an eo:cloud_cover property. Use query={\"eo:cloud_cover\": {\"lt\": 20}} to return only items that are less than 20% cloudy.\n\ntime_range = \"2020-12-01/2020-12-31\"\nbbox = [-122.2751, 47.5469, -121.9613, 47.7458]\n\nsearch = catalog.search(\n    collections=[\"sentinel-2-l2a\"],\n    bbox=bbox,\n    datetime=time_range,\n    query={\"eo:cloud_cover\": {\"lt\": 20}},\n)\nitems = search.get_all_items()\n\nOther common uses of the query parameter is to filter a collection down to items of a specific type, For example, the GOES-CMI collection includes images from various when the satellite is in various modes, which produces images of either the Full Disk of the earth, the continental United States, or a mesoscale. You can use goes:image-type to filter down to just the ones you want.\n\nsearch = catalog.search(\n    collections=[\"goes-cmi\"],\n    bbox=[-67.2729, 25.6000, -61.7999, 27.5423],\n    datetime=[\"2018-09-11T13:00:00Z\", \"2018-09-11T15:40:00Z\"],\n    query={\"goes:image-type\": {\"eq\": \"MESOSCALE\"}},\n)\n\n\n\nAnalyzing STAC Metadata\nSTAC items are proper GeoJSON Features, and so can be treated as a kind of data on their own.\n\nsearch = catalog.search(\n    collections=[\"sentinel-2-l2a\"],\n    bbox=[-124.2751, 45.5469, -110.9613, 47.7458],\n    datetime=\"2020-12-26/2020-12-31\",\n)\nitems = search.get_all_items()\n\ndf = geopandas.GeoDataFrame.from_features(items.to_dict(), crs=\"epsg:4326\")\n\ndf[[\"geometry\", \"datetime\", \"s2:mgrs_tile\", \"eo:cloud_cover\"]].explore(\n    column=\"eo:cloud_cover\", style_kwds={\"fillOpacity\": 0.1}\n)\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook\n\n\nOr we can plot cloudiness of a region over time.\n\nimport pandas as pd\n\nsearch = catalog.search(\n    collections=[\"sentinel-2-l2a\"],\n    bbox=[-124.2751, 45.5469, -123.9613, 45.7458],\n    datetime=\"2020-01-01/2020-12-31\",\n)\nitems = search.get_all_items()\ndf = geopandas.GeoDataFrame.from_features(items.to_dict())\ndf[\"datetime\"] = pd.to_datetime(df[\"datetime\"])\n\n\nts = df.set_index(\"datetime\").sort_index()[\"eo:cloud_cover\"].rolling(7).mean()\nts.plot(title=\"eo:cloud-cover (7-scene rolling average)\");\n\n\n\n\n\n\n\n\n\n\nWorking with STAC Catalogs and Collections\nOur catalog is a STAC Catalog that we can crawl or search. The Catalog contains STAC Collections for each dataset we have indexed (which is not the yet the entirity of data hosted by the Planetary Computer).\nCollections have information about the STAC Items they contain. For instance, here we look at the Bands available for Landsat 8 Collection 2 Level 2 data:\n\nimport pandas as pd\n\nlandsat = catalog.get_collection(\"landsat-8-c2-l2\")\n\npd.DataFrame(landsat.extra_fields[\"summaries\"][\"eo:bands\"])\n\n\n\n\n\n\n\n\ngsd\nname\ncommon_name\ndescription\ncenter_wavelength\nfull_width_half_max\n\n\n\n\n0\n30\nSR_B1\ncoastal\ncoastal\n0.44\n0.02\n\n\n1\n30\nSR_B2\nblue\nvisible blue\n0.48\n0.06\n\n\n2\n30\nSR_B3\ngreen\nvisible green\n0.56\n0.06\n\n\n3\n30\nSR_B4\nred\nvisible red\n0.65\n0.04\n\n\n4\n30\nSR_B5\nnir\nnear-infrared\n0.86\n0.03\n\n\n5\n30\nSR_B6\nswir16\nshort-wave infrared\n1.60\n0.08\n\n\n6\n30\nSR_B7\nswir22\nshort-wave infrared\n2.20\n0.20\n\n\n7\n100\nST_B10\nlwir11\nlong-wave infrared\n10.90\n0.80\n\n\n8\n30\nST_TRAD\nNaN\nthermal radiance\nNaN\nNaN\n\n\n9\n30\nST_URAD\nNaN\nupwelled radiance\nNaN\nNaN\n\n\n10\n30\nST_ATRAN\nNaN\natmospheric transmission\nNaN\nNaN\n\n\n11\n30\nST_CDIST\nNaN\ndistance to nearest cloud\nNaN\nNaN\n\n\n12\n30\nST_DRAD\nNaN\ndownwelled radiance\nNaN\nNaN\n\n\n13\n30\nST_EMIS\nNaN\nemissivity\nNaN\nNaN\n\n\n14\n30\nST_EMSD\nNaN\nemissivity standard deviation\nNaN\nNaN\n\n\n\n\n\n\n\nWe can see what Assets are available on our item with:\n\npd.DataFrame.from_dict(landsat.extra_fields[\"item_assets\"], orient=\"index\")[\n    [\"title\", \"description\", \"gsd\"]\n]\n\n\n\n\n\n\n\n\ntitle\ndescription\ngsd\n\n\n\n\nANG\nAngle Coefficients File\nCollection 2 Level-1 Angle Coefficients File (...\nNaN\n\n\nSR_B1\nCoastal/Aerosol Band (B1)\nCollection 2 Level-2 Coastal/Aerosol Band (B1)...\n30.0\n\n\nSR_B2\nBlue Band (B2)\nCollection 2 Level-2 Blue Band (B2) Surface Re...\n30.0\n\n\nSR_B3\nGreen Band (B3)\nCollection 2 Level-2 Green Band (B3) Surface R...\n30.0\n\n\nSR_B4\nRed Band (B4)\nCollection 2 Level-2 Red Band (B4) Surface Ref...\n30.0\n\n\nSR_B5\nNear Infrared Band 0.8 (B5)\nCollection 2 Level-2 Near Infrared Band 0.8 (B...\n30.0\n\n\nSR_B6\nShort-wave Infrared Band 1.6 (B6)\nCollection 2 Level-2 Short-wave Infrared Band ...\n30.0\n\n\nSR_B7\nShort-wave Infrared Band 2.2 (B7)\nCollection 2 Level-2 Short-wave Infrared Band ...\n30.0\n\n\nST_QA\nSurface Temperature Quality Assessment Band\nLandsat Collection 2 Level-2 Surface Temperatu...\n30.0\n\n\nST_B10\nSurface Temperature Band (B10)\nLandsat Collection 2 Level-2 Surface Temperatu...\n100.0\n\n\nMTL.txt\nProduct Metadata File\nCollection 2 Level-1 Product Metadata File (MTL)\nNaN\n\n\nMTL.xml\nProduct Metadata File (xml)\nCollection 2 Level-1 Product Metadata File (xml)\nNaN\n\n\nST_DRAD\nDownwelled Radiance Band\nLandsat Collection 2 Level-2 Downwelled Radian...\n30.0\n\n\nST_EMIS\nEmissivity Band\nLandsat Collection 2 Level-2 Emissivity Band S...\n30.0\n\n\nST_EMSD\nEmissivity Standard Deviation Band\nLandsat Collection 2 Level-2 Emissivity Standa...\n30.0\n\n\nST_TRAD\nThermal Radiance Band\nLandsat Collection 2 Level-2 Thermal Radiance ...\n30.0\n\n\nST_URAD\nUpwelled Radiance Band\nLandsat Collection 2 Level-2 Upwelled Radiance...\n30.0\n\n\nMTL.json\nProduct Metadata File (json)\nCollection 2 Level-1 Product Metadata File (json)\nNaN\n\n\nQA_PIXEL\nPixel Quality Assessment Band\nCollection 2 Level-1 Pixel Quality Assessment ...\n30.0\n\n\nST_ATRAN\nAtmospheric Transmittance Band\nLandsat Collection 2 Level-2 Atmospheric Trans...\n30.0\n\n\nST_CDIST\nCloud Distance Band\nLandsat Collection 2 Level-2 Cloud Distance Ba...\n30.0\n\n\nQA_RADSAT\nRadiometric Saturation Quality Assessment Band\nCollection 2 Level-1 Radiometric Saturation Qu...\n30.0\n\n\nthumbnail\nThumbnail image\nNaN\nNaN\n\n\nSR_QA_AEROSOL\nAerosol Quality Analysis Band\nCollection 2 Level-2 Aerosol Quality Analysis ...\n30.0\n\n\nreduced_resolution_browse\nReduced resolution browse image\nNaN\nNaN\n\n\n\n\n\n\n\nSome collections, like Daymet include collection-level assets. You can use the .assets property to access those assets.\n\ncollection = catalog.get_collection(\"daymet-daily-na\")\ncollection\n\n&lt;CollectionClient id=daymet-daily-na&gt;\n\n\nJust like assets on items, these assets include links to data in Azure Blob Storage.\n\nasset = collection.assets[\"zarr-https\"]\nasset\n\n&lt;Asset href=https://daymeteuwest.blob.core.windows.net/daymet-zarr/daily/na.zarr&gt;\n\n\n\nimport fsspec\nimport xarray as xr\n\nstore = fsspec.get_mapper(asset.href)\nds = xr.open_zarr(store, **asset.extra_fields[\"xarray:open_kwargs\"])\nds\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;xarray.Dataset&gt;\nDimensions:                  (time: 14965, y: 8075, x: 7814, nv: 2)\nCoordinates:\n    lat                      (y, x) float32 dask.array&lt;chunksize=(284, 584), meta=np.ndarray&gt;\n    lon                      (y, x) float32 dask.array&lt;chunksize=(284, 584), meta=np.ndarray&gt;\n  * time                     (time) datetime64[ns] 1980-01-01T12:00:00 ... 20...\n  * x                        (x) float32 -4.56e+06 -4.559e+06 ... 3.253e+06\n  * y                        (y) float32 4.984e+06 4.983e+06 ... -3.09e+06\nDimensions without coordinates: nv\nData variables:\n    dayl                     (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    lambert_conformal_conic  int16 ...\n    prcp                     (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    srad                     (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    swe                      (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    time_bnds                (time, nv) datetime64[ns] dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;\n    tmax                     (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    tmin                     (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    vp                       (time, y, x) float32 dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;\n    yearday                  (time) int16 dask.array&lt;chunksize=(365,), meta=np.ndarray&gt;\nAttributes:\n    Conventions:       CF-1.6\n    Version_data:      Daymet Data Version 4.0\n    Version_software:  Daymet Software Version 4.0\n    citation:          Please see http://daymet.ornl.gov/ for current Daymet ...\n    references:        Please see http://daymet.ornl.gov/ for current informa...\n    source:            Daymet Software Version 4.0\n    start_year:        1980xarray.DatasetDimensions:time: 14965y: 8075x: 7814nv: 2Coordinates: (5)lat(y, x)float32dask.array&lt;chunksize=(284, 584), meta=np.ndarray&gt;long_name :latitude coordinatestandard_name :latitudeunits :degrees_north\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n240.70 MiB\n647.88 kiB\n\n\nShape\n(8075, 7814)\n(284, 584)\n\n\nCount\n407 Tasks\n406 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                        7814 8075\n\n\n\n\nlon(y, x)float32dask.array&lt;chunksize=(284, 584), meta=np.ndarray&gt;long_name :longitude coordinatestandard_name :longitudeunits :degrees_east\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n240.70 MiB\n647.88 kiB\n\n\nShape\n(8075, 7814)\n(284, 584)\n\n\nCount\n407 Tasks\n406 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                        7814 8075\n\n\n\n\ntime(time)datetime64[ns]1980-01-01T12:00:00 ... 2020-12-...bounds :time_bndslong_name :24-hour day based on local timestandard_name :timearray(['1980-01-01T12:00:00.000000000', '1980-01-02T12:00:00.000000000',\n       '1980-01-03T12:00:00.000000000', ..., '2020-12-28T12:00:00.000000000',\n       '2020-12-29T12:00:00.000000000', '2020-12-30T12:00:00.000000000'],\n      dtype='datetime64[ns]')x(x)float32-4.56e+06 -4.559e+06 ... 3.253e+06long_name :x coordinate of projectionstandard_name :projection_x_coordinateunits :marray([-4560250., -4559250., -4558250., ...,  3250750.,  3251750.,  3252750.],\n      dtype=float32)y(y)float324.984e+06 4.983e+06 ... -3.09e+06long_name :y coordinate of projectionstandard_name :projection_y_coordinateunits :marray([ 4984000.,  4983000.,  4982000., ..., -3088000., -3089000., -3090000.],\n      dtype=float32)Data variables: (10)dayl(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: meangrid_mapping :lambert_conformal_coniclong_name :daylengthunits :s\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\nlambert_conformal_conic()int16...false_easting :0.0false_northing :0.0grid_mapping_name :lambert_conformal_conicinverse_flattening :298.257223563latitude_of_projection_origin :42.5longitude_of_central_meridian :-100.0semi_major_axis :6378137.0standard_parallel :[25.0, 60.0]array(-32767, dtype=int16)prcp(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: sumgrid_mapping :lambert_conformal_coniclong_name :daily total precipitationunits :mm/day\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\nsrad(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: meangrid_mapping :lambert_conformal_coniclong_name :daylight average incident shortwave radiationunits :W/m2\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\nswe(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: meangrid_mapping :lambert_conformal_coniclong_name :snow water equivalentunits :kg/m2\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\ntime_bnds(time, nv)datetime64[ns]dask.array&lt;chunksize=(365, 2), meta=np.ndarray&gt;\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n233.83 kiB\n5.70 kiB\n\n\nShape\n(14965, 2)\n(365, 2)\n\n\nCount\n42 Tasks\n41 Chunks\n\n\nType\ndatetime64[ns]\nnumpy.ndarray\n\n\n\n\n                           2 14965\n\n\n\n\ntmax(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: maximumgrid_mapping :lambert_conformal_coniclong_name :daily maximum temperatureunits :degrees C\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\ntmin(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: minimumgrid_mapping :lambert_conformal_coniclong_name :daily minimum temperatureunits :degrees C\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\nvp(time, y, x)float32dask.array&lt;chunksize=(365, 284, 584), meta=np.ndarray&gt;cell_methods :area: mean time: meangrid_mapping :lambert_conformal_coniclong_name :daily average vapor pressureunits :Pa\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n3.44 TiB\n230.93 MiB\n\n\nShape\n(14965, 8075, 7814)\n(365, 284, 584)\n\n\nCount\n16647 Tasks\n16646 Chunks\n\n\nType\nfloat32\nnumpy.ndarray\n\n\n\n\n                                                                                                                           7814 8075 14965\n\n\n\n\nyearday(time)int16dask.array&lt;chunksize=(365,), meta=np.ndarray&gt;long_name :day of year (DOY) starting with day 1 on Januaray 1st\n\n\n\n\n\n\n\n\n\n\n\nArray\nChunk\n\n\n\n\nBytes\n29.23 kiB\n730 B\n\n\nShape\n(14965,)\n(365,)\n\n\nCount\n42 Tasks\n41 Chunks\n\n\nType\nint16\nnumpy.ndarray\n\n\n\n\n                           14965 1\n\n\n\n\nAttributes: (7)Conventions :CF-1.6Version_data :Daymet Data Version 4.0Version_software :Daymet Software Version 4.0citation :Please see http://daymet.ornl.gov/ for current Daymet data citation informationreferences :Please see http://daymet.ornl.gov/ for current information on Daymet referencessource :Daymet Software Version 4.0start_year :1980"
  }
]